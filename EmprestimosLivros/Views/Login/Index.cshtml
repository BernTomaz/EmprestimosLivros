@using EmprestimosLivros.Dto
@model UsuarioLoginDto

@{
    Layout = "_LayoutDeslogado";
}

<style>
    /* Ajuste as alturas se o seu header/footer forem diferentes */
    :root {
        --header-h: 56px; /* altura típica da navbar bootstrap */
        --footer-h: 44px; /* altura típica do footer fino */
    }

    html, body {
        height: 100%;
        margin: 0;
        overflow: hidden; /* sem barras de rolagem */
    }

    /* Área útil: toda a viewport MENOS header e footer */
    .login-area {
        height: calc(100vh - var(--header-h) - var(--footer-h));
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 16px; /* respiro nas laterais em telas pequenas */
        box-sizing: border-box;
    }

    /* Card responsivo */
    .login-card {
        width: min(480px, 100%);
        border: 0;
        box-shadow: 0 8px 30px rgba(0,0,0,.12);
        padding: clamp(16px, 3vw, 28px);
        border-radius: 12px;
        background: #fff;
    }

    /* Imagem e título responsivos */
    .login-logo {
        display: block;
        margin: 0 auto 12px auto;
        height: clamp(56px, 10vw, 90px);
        width: auto;
    }

    .login-title {
        text-align: center;
        margin-bottom: clamp(12px, 2.5vw, 20px);
        font-size: clamp(20px, 3.8vw, 28px);
        line-height: 1.2;
        letter-spacing: .5px;
        font-weight: 600;
    }

    /* Inputs com espaçamento enxuto */
    .form-label {
        margin-bottom: .35rem;
    }

    .form-control {
        padding: .6rem .75rem;
    }

    /* Reserva espaço fixo para mensagens (não deixa o card “pular”) */
    .message-box {
        min-height: 44px;
    }

    /* Botões lado a lado, mas empilham em telas muito pequenas */
    .btn-row {
        gap: 8px;
    }
    media (max-width: 420px) {
        .btn-row

    {
        flex-direction: column;
    }

    .btn-row .btn {
        width: 100% !important;
    }

    }
</style>

<!-- ALERTAS GLOBAIS (opcional: se quiser dentro do card, remova estes dois ifs e deixe só a message-box) -->
@if (false)
{
    if (TempData["MensagemSucesso"] != null)
    {
        <div class="alert alert-success text-light" role="alert">
            @TempData["MensagemSucesso"]
        </div>
    }

    if (TempData["MensagemErro"] != null)
    {
        <div class="alert alert-danger text-light" role="alert">
            @TempData["MensagemErro"]
        </div>
    }
}

<div class="login-area">
    <div >
        <!-- Mensagens DENTRO do card (com altura reservada) -->
        <div class="message-box">
            @if (TempData["MensagemErro"] != null)
            {
                <div class="alert alert-danger text-center py-2 m-0" role="alert">
                    @TempData["MensagemErro"]
                </div>
            }
            @if (TempData["MensagemSucesso"] != null)
            {
                <div class="alert alert-success text-center py-2 m-0" role="alert">
                    @TempData["MensagemSucesso"]
                </div>
            }
        </div>

        <!-- Logo -->
        <img src="~/img/book5.jpg" alt="Livro" class="login-logo" />

        <!-- Título -->
        <h3 class="login-title">Gerenciamento de Livros</h3>

        <!-- Formulário -->
        <form asp-action="Login" asp-controller="Login" method="post" novalidate>
            <div class="mb-3">
                <label for="email" class="form-label">Email:</label>
                <input type="email" class="form-control" id="email" asp-for="Email" autocomplete="username">
            </div>

            <div class="mb-3">
                <label for="senha" class="form-label">Senha:</label>
                <input type="password" class="form-control" id="senha" asp-for="Senha" autocomplete="current-password">
            </div>

            <div class="d-flex justify-content-center btn-row">
                <button type="submit" class="btn btn-primary flex-fill">Entrar</button>
                <a asp-action="Registrar" asp-controller="Login" class="btn btn-secondary flex-fill">Cadastrar-se</a>
            </div>
        </form>
    </div>
</div>
